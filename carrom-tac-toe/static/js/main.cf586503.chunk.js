(this["webpackJsonpcarrom-tac-toe-react"]=this["webpackJsonpcarrom-tac-toe-react"]||[]).push([[0],[,function(e,t,n){e.exports={Box:"Box_Box__pTRdZ",IsAvailable:"Box_IsAvailable__1ACv2",IsSelected:"Box_IsSelected__1_w7U",Checked:"Box_Checked__1vzab",BlackChecked:"Box_BlackChecked__2Bx_E",WhiteChecked:"Box_WhiteChecked__2m0tP"}},function(e,t,n){e.exports={WinnerInfo:"WinnerInfo_WinnerInfo__34EvX",Header:"WinnerInfo_Header__3mX5u",Body:"WinnerInfo_Body__iTOOa",NewGameButton:"WinnerInfo_NewGameButton__2j2Dt"}},,function(e,t,n){e.exports={Game:"Game_Game__2bHBC",GameArea:"Game_GameArea__2DIvg",Board:"Game_Board__937nz"}},function(e,t,n){e.exports={Welcome:"Welcome_Welcome__1hkUJ",RulesButton:"Welcome_RulesButton___M4Ry",NewGameButton:"Welcome_NewGameButton__2SVz4"}},function(e,t,n){e.exports={ErrorContainer:"Error_ErrorContainer__3obRd"}},,,,,,,function(e,t,n){e.exports={GameInfo:"GameInfo_GameInfo__10WIz"}},function(e,t,n){e.exports={Rules:"Rules_Rules__1T_pD"}},,,function(e,t,n){e.exports=n(24)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(9),c=n.n(r),s=(n(22),n(23),n(3)),l=n(7),i=n(10),d=n(11),u=n(15),m=n(12),h=n(16),x=n(1),p=n.n(x),v=function(e){var t="",n=[p.a.Box];return e.checked&&1===e.player?t=o.a.createElement("div",{className:[p.a.Checked,p.a.BlackChecked].join(" ")}):e.checked&&2===e.player&&(t=o.a.createElement("div",{className:[p.a.Checked,p.a.WhiteChecked].join(" ")})),e.isAvailableMove&&n.push(p.a.IsAvailable),e.isSelected&&n.push(p.a.IsSelected),o.a.createElement("div",{className:n.join(" "),onClick:e.clicked},t)},f=n(4),b=n.n(f),y=n(13),k=n.n(y),_=function(e){return o.a.createElement("div",{className:k.a.GameInfo},1===e.currentPlayer?"Black":"White"," plays")},w=n(6),I=n.n(w),E=function(e){var t="";return e.showError&&(t=o.a.createElement("div",{className:I.a.ErrorContainer},o.a.createElement("small",null,"Invalid Move"),o.a.createElement("br",null),o.a.createElement("div",{className:I.a.ErrorMessage},e.errorMessage))),t},g=n(2),B=n.n(g),C=function(e){var t=null;if(e.gameover){var n=1===e.winner?"Black":"White";t=o.a.createElement("div",{className:B.a.WinnerInfo},o.a.createElement("div",{className:B.a.Header},"Game Over"),o.a.createElement("div",{className:B.a.Body},n," has won!",o.a.createElement("button",{className:[B.a.NewGameButton,"Button"].join(" "),onClick:e.newGame},"New Game")))}return t},G=n(5),S=n.n(G),W=function(e){return o.a.createElement("div",{className:S.a.Welcome},o.a.createElement("p",null,"Welcome to Carrom-Tac-Toe"),o.a.createElement("button",{onClick:e.newGame,className:["Button",S.a.NewGameButton].join(" ")},"New Game"),o.a.createElement("button",{onClick:e.toggleRules,className:["Button",S.a.RulesButton].join(" ")},"Rules"))},N=n(14),O=n.n(N),M=function(e){var t=null;return e.show&&(t=o.a.createElement("div",{className:O.a.Rules},o.a.createElement("h2",null,"Rules of Carrom-Tac-Toe (Patent pending) are simple."),o.a.createElement("p",null,"It's a game played between two players. Each player has three coins which are either white or black in color. For the first three tries, the players will place these coins on a 3x3 board."),o.a.createElement("p",null,"After the players have exhausted their coins, they can move the coins either horizontally or vertically, one position at a time. A coin cannot be moved into a position that is occupied by other coin. You cannot jump or skip over another coin."),o.a.createElement("p",null,"The objective of the game is similar to one we have in Tic-Tac-Toe. Any player who is able to line up their discs vertically, horizontally or diagonally wins. Also, if you have no available moves left, you lose."),o.a.createElement("p",null,"Happy Corrom-Tac-Toeing!"),o.a.createElement("button",{onClick:e.toggleRules,className:["Button"].join(" ")},"Close"))),t},R=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={boxes:[{boxIndex:0,coords:"0-0",checked:!1,player:0},{boxIndex:1,coords:"0-1",checked:!1,player:0},{boxIndex:2,coords:"0-2",checked:!1,player:0},{boxIndex:3,coords:"1-0",checked:!1,player:0},{boxIndex:4,coords:"1-1",checked:!1,player:0},{boxIndex:5,coords:"1-2",checked:!1,player:0},{boxIndex:6,coords:"2-0",checked:!1,player:0},{boxIndex:7,coords:"2-1",checked:!1,player:0},{boxIndex:8,coords:"2-2",checked:!1,player:0}],availableMoves:[],currentPlayer:1,boxSelectedCoords:"",remainingDiscs:{player1:3,player2:3},showError:!1,errorMessage:"",winner:0,isGameOver:!1,showRules:!1},n.onCheckBox=function(e){if(!n.state.isGameOver){n.clearErrors();var t=n.state.boxes.find((function(t){return t.coords===e})),a=t.checked,o=t.player===n.state.currentPlayer,r=n.state.remainingDiscs["player"+n.state.currentPlayer]>0;if(a||!r)if(a&&r)n.handleIncorrectSelection("Cannot place disc on an already occupied box.");else if(a&&o)n.showAvailableMoves(t.coords);else if(!a||o)!!n.state.boxSelectedCoords?n.makeMove(n.state.boxSelectedCoords,t.coords):n.state.boxSelectedCoords||r||n.handleIncorrectSelection("Select a disc to move first");else n.handleIncorrectSelection("You cannot move opposition player's disc");else n.placeDisc(t.coords)}},n.placeDisc=function(e){var t=Object(l.a)(n.state.boxes),a=Object(s.a)({},n.state.boxes.find((function(t){return t.coords===e}))),o=Object(s.a)({},n.state.remainingDiscs);a.checked=!0,a.player=n.state.currentPlayer,o["player"+n.state.currentPlayer]-=1,t=t.filter((function(t){return t.coords!==e})).concat(a).sort((function(e,t){return e.boxIndex-t.boxIndex})),n.setState((function(e){return{boxes:t,remainingDiscs:o}}),n.checkWinner),n.switchPlayer()},n.switchPlayer=function(){n.setState((function(e){return{currentPlayer:1===e.currentPlayer?2:1,availableMoves:[],boxSelectedCoords:""}}))},n.showAvailableMoves=function(e){n.setState({availableMoves:[],boxSelectedCoords:e});var t=[],a=+e.split("-")[0],o=+e.split("-")[1],r=a.toString()+"-"+(o-1);!n.isOccupied(r)&&o-1>=0&&t.push(r);var c=a.toString()+"-"+(o+1);!n.isOccupied(c)&&o+1<3&&t.push(c);var s=(a-1).toString()+"-"+o;!n.isOccupied(s)&&a-1>=0&&t.push(s);var l=(a+1).toString()+"-"+o;!n.isOccupied(l)&&a+1<3&&t.push(l),n.setState({availableMoves:t})},n.isOccupied=function(e){return!!n.state.boxes.find((function(t){return t.coords===e&&t.checked}))},n.handleIncorrectSelection=function(e){n.setState({showError:!0,errorMessage:e})},n.clearErrors=function(){n.setState({showError:!1,errorMessage:""})},n.makeMove=function(e,t){if(console.log("sliding from "+e+" to "+t),n.state.availableMoves.some((function(e){return e===t}))){var a=n.state.boxes.findIndex((function(t){return t.coords===e})),o=n.state.boxes.findIndex((function(e){return e.coords===t})),r=Object(l.a)(n.state.boxes),c=Object(s.a)({},r.find((function(e){return e.boxIndex===a})));c.checked=!1,c.player=0;var i=Object(s.a)({},r.find((function(e){return e.boxIndex===o})));i.checked=!0,i.player=n.state.currentPlayer,r=r.filter((function(e){return e.boxIndex!==a&&e.boxIndex!==o})).concat(c,i).sort((function(e,t){return e.boxIndex-t.boxIndex})),n.setState({boxes:r},n.checkWinner),n.switchPlayer()}else n.handleIncorrectSelection("You can only move one space at a time horizontally or vertically.")},n.checkWinner=function(){var e=n.state.boxes.filter((function(e){return 1===e.player})).map((function(e){return e.coords}));if(n.hasWinningPattern(e))n.declareWinner(1);else{var t=n.state.boxes.filter((function(e){return 2===e.player})).map((function(e){return e.coords}));n.hasWinningPattern(t)&&n.declareWinner(2)}},n.hasWinningPattern=function(e){if(e.length<3)return!1;var t=e.map((function(e){return{x:e.split("-")[0],y:e.split("-")[1]}}));return!(!t.every((function(e){return e.x===t[0].x}))&&!t.every((function(e){return e.y===t[0].y})))||!(!t.every((function(e){return e.x===e.y}))&&!t.every((function(e){return+e.x+ +e.y===2})))},n.declareWinner=function(e){n.setState({winner:e,isGameOver:!0})},n.onNewGame=function(){n.setState({boxes:[{boxIndex:0,coords:"0-0",checked:!1,player:0},{boxIndex:1,coords:"0-1",checked:!1,player:0},{boxIndex:2,coords:"0-2",checked:!1,player:0},{boxIndex:3,coords:"1-0",checked:!1,player:0},{boxIndex:4,coords:"1-1",checked:!1,player:0},{boxIndex:5,coords:"1-2",checked:!1,player:0},{boxIndex:6,coords:"2-0",checked:!1,player:0},{boxIndex:7,coords:"2-1",checked:!1,player:0},{boxIndex:8,coords:"2-2",checked:!1,player:0}],availableMoves:[],currentPlayer:1,boxSelectedCoords:"",remainingDiscs:{player1:3,player2:3},showError:!1,errorMessage:"",winner:0,isGameOver:!1})},n.onToggleRules=function(){n.setState((function(e){return{showRules:!e.showRules}}))},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state.boxes.map((function(t){var n=e.state.availableMoves.some((function(e){return e===t.coords})),a=e.state.boxSelectedCoords===t.coords;return o.a.createElement(v,Object.assign({},t,{key:t.coords,clicked:e.onCheckBox.bind(e,t.coords),isAvailableMove:n,isSelected:a}))}));return o.a.createElement("div",{className:b.a.Game},o.a.createElement("div",{className:b.a.GameArea},o.a.createElement(W,{newGame:this.onNewGame,toggleRules:this.onToggleRules}),o.a.createElement(_,{currentPlayer:this.state.currentPlayer}),o.a.createElement("div",{className:b.a.Board},t),o.a.createElement(E,{showError:this.state.showError,errorMessage:this.state.errorMessage}),o.a.createElement(C,{gameover:this.state.isGameOver,newGame:this.onNewGame,winner:this.state.winner}),o.a.createElement(M,{show:this.state.showRules,toggleRules:this.onToggleRules})))}}]),t}(a.Component);var j=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(R,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[17,1,2]]]);
//# sourceMappingURL=main.cf586503.chunk.js.map